/***********************************Installation************************************/
1-Commands for create the new project:[Command can be directly run in project folder by clicking on address bar and write cmd there]
composer create-project --prefer-dist laravel/laravel testproject
http://localhost/testproject/public/

2-Commands for access the project directory:
Used cmd in adderess bar with the help of composer.

/**********************************input types radio button, select box, and checkbox.*****/
https://appdividend.com/2018/02/01/laravel-tutorial-example-scratch/
https://www.tutcodex.com/laravel-collective-html-form-builder/

In controller:
public function edit($id)
{
$checkboxOptions     = array( 'No', 'Yes' );
$workingDays         = array( 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday' );
$categoryDetails     = Category::where(['id'=>$id])->first();
$saveworkingDays     = $categoryDetails->checkbox;
$savemulticontriesids= $categoryDetails->dropdown;
$categoriestitle     = 'Edit Categories';
return view('admin.categories.edit_category')->with(compact('checkboxOptions','workingDays','categoryDetails','saveworkingDays', 'savemulticontriesids', 'categoriestitle'));
}

RadioButton:
<div class="form-group {{ $errors->has('radiobutton') ? 'has-error' : ''}} "> 
{!! Form::label('radiobutton', 'Feature Category', ['class' => 'control-label col-lg-3']) !!}
<div class="col-lg-6 radioButtonTopPadding">
@foreach ($checkboxOptions as $key => $checkboxOption)
{!! Form::label(lcfirst($checkboxOption), $checkboxOption) !!}
{!! Form::radio('radio', $key, null, ['id' => 'radio-'.$key, 'name' => 'radio', 'class' => 'radio tune-in']) !!}
@endforeach
{!! $errors->first('radio', '<p class="errors">:message</p>') !!}
</div>
</div>

Checkboxs:
<div class="form-group {{ $errors->has('workday') ? 'has-error' : ''}} "> 
{!! Form::label('days', 'Days', ['class' => 'control-label col-lg-3']) !!}
<div class="col-lg-6 radioButtonTopPadding">
@foreach ($workingDays as $key => $workingDay)
{!! Form::label(lcfirst($workingDay), $workingDay) !!}
{!! Form::checkbox('workday[]', lcfirst($workingDay),in_array($workingDay, explode(',', @$saveworkingDays)),['class' => 'md-check', 'id' => $workingDay] ) !!}
@endforeach
{!! $errors->first('workday', '<p class="errors">:message</p>') !!}
</div>
</div>

SelectDrowpdown:
<div class="form-group {{ $errors->has('country_id') ? 'has-error' : ''}}">
{!! Form::label('name', 'Countries', ['class' => 'control-label col-lg-3']) !!}
<div class="col-lg-6">
{!! Form::select('country_id', getCountry(), isset($categoryDetails)?$categoryDetails->country_id:null, ['class' => 'form-control','id' => 'singleSelected','required' => 'required']) !!}
{!! $errors->first('country_id', '<p class="errors">:message</p>') !!}
</div>
</div>

MultiSelectDrowpdown(multi-select boxes (pillbox/select2) example)->(keet js files before Product Image js):
https://stackoverflow.com/questions/55814058/multiple-select-boxespillbox-using-select2
<link rel="stylesheet" type="text/css" href="{{ asset('js/backend_js/select2/select2.min.css') }}" />
<script src="{{asset('js/backend_js/select2/select2.min.js')}}"></script>
<script type="text/javascript">
    $(document).ready(
        function () {
            $('#singleSelected').select2();
            $('#multipleSelected').select2();
        }
    );
</script>

<div class="form-group {{ $errors->has('multiselectcountries') ? 'has-error' : ''}}">
{!! Form::label('multiselectcountries', 'MultiPle Selected Countries', ['class' => 'control-label col-lg-3']) !!}
<div class="col-lg-6">
{{Form::select('multiselectcountries',getCountry(),explode(',', @$savemulticontriesids),array('multiple'=>'multiple','name'=>'multiselectcountries[]', 'class' => 'form-control', 'id' => 'multipleSelected'))}}
{!! $errors->first('multiselectcountries', '<p class="errors">:message</p>') !!}
</div>
</div>

Searchable MultiSelected Boxes:
<link rel="stylesheet" type="text/css" href="{{ asset('js/backend_js/jquery-multi-select/css/multi-select.css') }}" />
<script type="text/javascript" src="{{ asset('js/backend_js/bootstrap-colorpicker/js/bootstrap-colorpicker.js') }}"></script>
<script type="text/javascript" src="{{ asset('js/backend_js/bootstrap-timepicker/js/bootstrap-timepicker.js') }}"></script>
<script type="text/javascript" src="{{ asset('js/backend_js/jquery-multi-select/js/jquery.multi-select.js') }}"></script>
<script type="text/javascript" src="{{ asset('js/backend_js/jquery-multi-select/js/jquery.quicksearch.js') }}"></script>
<div class="form-group {{ $errors->has('searchableMultiSelectedCountries') ? 'has-error' : ''}}">
{!! Form::label('searchableMultiSelectedCountries', 'Searchable', ['class' => 'control-label col-lg-3']) !!}
<div class="col-lg-6">
{{Form::select('searchableMultiSelectedCountries',getCountry(),explode(',', @$searchableMultiSelectedCountries),array('multiple'=>'multiple','name'=>'searchableMultiSelectedCountries[]', 'class' => 'form-control multi-select', 'id' => 'my_multi_select3'))}}
{!! $errors->first('searchableMultiSelectedCountries', '<p class="errors">:message</p>') !!}
</div>
</div>

<!--Datepicker js-->
<link rel="stylesheet" type="text/css" href="{{ asset('js/backend_js/bootstrap-datetimepicker/css/datetimepicker.css') }}" />
<link rel="stylesheet" type="text/css" href="{{ asset('js/backend_js/bootstrap-datepicker/css/datepicker.css') }}" />
<script type="text/javascript" src="{{ asset('js/backend_js/bootstrap-datepicker/js/bootstrap-datepicker.js') }}"></script>
<script type="text/javascript" src="{{ asset('js/backend_js/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js') }}"></script>
<script src="{{ asset('js/backend_js/advanced-form.js') }}"></script>

<div class="form-group {{ $errors->has('datepicker') ? 'has-error' : ''}}">
{!! Form::label('datepicker', 'Date Picker', ['class' => 'control-label col-lg-3']) !!}
<div class="col-md-6 col-xs-11">
{!! Form::text('datepicker', isset($categoryDetails)?$categoryDetails->date:null, ['class' => 'form-control form-control-inline input-medium default-date-picker', 'required', 'id' => 'name', 'placeholder' => 'Date Picker']) !!}
{!! $errors->first('datepicker', '<p class="errors">:message</p>') !!}
</div>
</div> 

<!--Upload image CSS -->   
<link href="{{asset('css/backend_css/bootstrap-reset.css')}}" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="{{asset('js/backend_js/bootstrap-fileupload/bootstrap-fileupload.css')}}" />

<div class="form-group last">
<label class="control-label col-md-3">Image Upload</label>
<div class="col-md-9">
<div class="fileupload fileupload-new" data-provides="fileupload">
<div style="border:0px;" class="fileupload-new thumbnail" style="width:100px; height:100px;">
@if(isset($productDetails->image))
{{ Form::hidden('current_image', $productDetails->image , array('id' => 'current_image')) }}
<img src="{{ URL::to('/') }}/images/backend_images/product/{{ $productDetails->image }}" class="img-thumbnail" />
{{-- <input type="hidden" name="hidden_image" value="{{ $productDetails->image }}" /> --}}
@endif
</div>
<div class="fileupload-preview fileupload-exists thumbnail" style="max-width: 200px; max-height: 150px; line-height: 20px;"></div>

<div>
<span style="border:1px solid; border-color:rgba(150, 160, 180, 0.3)" class="btn btn-white btn-file">
<span class="fileupload-new"><i class="fa fa-paper-clip"></i> Select image</span>
{!! Form::file('image', null, ['class' => 'default', 'required',
'placeholder'=>'Image']) !!}
{!! $errors->first('image', '<p class="errors">:message</p>') !!}
</span>
</div>

</div>
</div>
</div>

/***********************************Database************************************/
3-Commands for create the database table:
3.1-In .evn file change the credentials according to the server like:
DB_DATABASE=homestead
DB_USERNAME=root
DB_PASSWORD=

3.2-Create database in mysql
3.3-May there is error becase of "String Length" there will have to written these 2 lines in "AppServiceProvider.php" 
F:\wamp64\www\testproject\app\Providers\AppServiceProvider file.
These 2 lines are:
3.4-use Illuminate\Support\Facades\Schema; ===> up from the class AppServiceProvider extends ServiceProvider line.
3.5-Schema::defaultStringLength(191); in boot function public function boot(){}.
3.6-F:\wamp64\www\testproject>php artisan make:migration create_tasks_table --create=tasks
3.7-php artisan make:migration add_name_to_tasks --table="tasks"
3.8-php artisan migrate
3.9-php artisan migrate:refresh (Note it will empty the all table datas.)
php artisan migrate:rollback(this will remove the currently added column of table)
3.90-How to add new columns to the existing table in laravel:
http://laravel-school.com/posts/how-to-add-new-columns-to-the-existing-table-in-laravel-migration-24
php artisan make:migration add_profile_to_users
php artisan make:migration add_profile_and_bio_and_city_and_location_to_users
public function up()
{
 Schema::table('users', function (Blueprint $table) {
 $table->string('profile')->nullable();
 $table->string('bio')->nullable();
 $table->string('city')->nullable();
 $table->string('location')->nullable();
 });
}

public function down()
{
  Schema::table('users', function (Blueprint $table) {
  $table->dropColumn(['profile',  'bio', 'city', 'location']);
 });
}
php artisan migrate

4-Create model command:
4.1-https://blog.pusher.com/laravel-mvc-use/
php artisan make:model AdminModels/Categories
php artisan make:model Product
4.2-in controller model will have to be added like this:
use App\AdminModels\Category;

4-Create controller command:
4.1-php artisan make:controller "AdminController\SettingController"
4.2-php artisan make:controller ProductController -r
4.3-php artisan make:controller AdminController\AjaxController --resource 

4-list of routes command:
php artisan route:list

5-Routing:(get will place up from the resource line)
Route::get('products/view', 'ProductController@viewproducts');
Route::get('products/create', 'ProductController@create');
Route::resource('/products', 'ProductController');
/***********************************Route::resource************************************/
Route::resource('categories', 'AdminController\CatController');
CatController Controller:
<?php
namespace App\Http\Controllers\AdminController;

use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
use App\Category;
use App\Facades\ApiResponse;

class CatController extends Controller
{
public function index()
{
$categories = Category::with('prodects.images')->paginate(10);
return view('admin.categories.view_categories')->with(compact('categories'));
}

public function create()
{
$categoriestitle = 'Add Categories';    
return view('admin.categories.add_category')->with(compact('categoriestitle')); 
}

public function store(Request $request)
{
if($request->isMethod('post')){
$this->validate($request, [
'name'        => 'required',
'description' => 'required'
]);

$category = new Category([
'name'        => $request->get('name'),
'description' => $request->get('description')
]);
$category->save();
return redirect('admin/categories')->with('flash_message_success', 'Category has been added successfully!'); 
} 
}

public function show($id)
{
//
}

public function edit($id)
{
$categoryDetails = Category::where(['id'=>$id])->first();
$categoriestitle = 'Edit Categories';
return view('admin.categories.edit_category')->with(compact('categoryDetails', 'categoriestitle'));
}

public function update(Request $request, $id)
{

$this->validate($request, [
'name'        => 'required',
'description' => 'required'
]);
$data = $request->all();

Category::where(['id'=>$id])->update(['name'=>$data['name'],'description'=>$data['description']]);
return redirect('admin/categories')->with('flash_message_success', 'Category has been updated successfully');
}

public function destroy($id)
{
Category::find($id)->delete();
return redirect()->back()->with('flash_message_success', 'Category has been deleted successfully');
}
}
?>

Left Side Bar:
<li class="sub-menu">
<a href="javascript:;" class="{{ request()->is('admin/categories') ? 'active' : '' || request()->is('admin/categories/create') ? 'active' : ''}}">
<i class=" fa fa-list-alt"></i>
<span>Categories</span>
</a>
<ul class="sub">
<li><a class="{{ request()->is('admin/categories') ? 'selected' : '' }}" href="{{url('admin/categories')}}">View Categories</a></li>
<li><a class="{{ request()->is('admin/categories/create') ? 'selected' : '' }}" href="{{url('/admin/categories/create')}}">Add Categories</a></li>
</ul>
</li>

View Category Page(Edit/Delete):
<td class="center">
<a href="{{ url('/admin/categories/'.$category->id).'/edit' }}"
class="btn btn-primary btn-mini">Edit</a>

{!! Form::open(['method' => 'Delete', 'url' => ['admin/categories', $category->id], 'class' => 'formGeneral', 'data-toggle' => 'validator', 'data-disable' => 'false', 'id' =>'delete_form']) !!}
{{ Form::submit('Delete', ['class' => 'btn btn-danger']) }}
{{ Form::close() }}
</td>
</tr>

Edit Category Page:
@extends('layouts.adminLayout.admin_design')
@section('content')

{!! Form::model($categoryDetails, [
'method' => 'PUT',
'url' => ['admin/categories', $categoryDetails->id],
'class' => 'form-horizontal',
'files' => true,
'data-toggle' => 'validator',
'data-disable' => 'false',
'id' =>'category_form'
]) !!}

@include ('admin.categories.category_form', ['submitButtonText' => 'Edit'])

{!! Form::close() !!}

@endsection

Add Category Page:
@extends('layouts.adminLayout.admin_design')
@section('content')

{!! Form::open(['url' => 'admin/categories', 'data-toggle' => 'validator','data-disable' => 'false', 'class' => 'form-horizontal', 'files' => true]) !!}

@include ('admin.categories.category_form')

{!! Form::close() !!}

@endsection

/***********************************Controller************************************/
5-Route controller list:
https://stackoverflow.com/questions/23505875/laravel-routeresource-vs-routecontroller

6-CRUD(Creat Read Update Detele):
https://www.webslesson.info/2019/03/step-by-step-crud-operation-in-laravel-58-with-file-upload.html
https://www.itsolutionstuff.com/post/laravel-55-crud-example-from-scratchexample.html
https://www.techiediaries.com/php-laravel-crud-mysql-tutorial/

/***********************************Collective_HTML************************************/
7-laravel collective html for form builder:
composer require "laravelcollective/html":"^5.4.0"
https://laravelcollective.com/docs/5.4/html#opening-a-form
{!! Form::model($product, ['method' => 'put' ,'route' => ['products.update', $product->id]]) !!}
{!! csrf_field() !!}
{!! Form::close() !!}

/***********************************Validation************************************/
8-laravel laracollective & validation
https://gist.github.com/armanhakimsagar/c1212dbb25f59ab74c9a3658d1f30338
in controller:
$this->validate($request, [
 'name'  => 'required',
	    'description' => 'required',
	    'price'       => 'required',
	    'count'       => 'required',
  ]);
return redirect('products')->with('success', 'Products updated!');
In veiw:
@if ($errors->any())
<div class="alert alert-danger">
<ul>
@foreach ($errors->all() as $error)
<li>{{ $error }}</li>
@endforeach
</ul>
</div>
@endif

<div class="success">
@if(session()->get('success'))
<div class="alert alert-success" style="color:#008000;" >
{{ session()->get('success') }}  
</div>
@endif
</div> 

8.1-For single filed validation:
<div class="form-input" class="form-group {{ $errors->has('name') ? 'has-error' : ''}}">
{!! $errors->first('name', '<p class="errors">:message</p>') !!}
</div>

/***********************************Multiple_Authentication************************************/
9.Multiple-Authentication:
https://github.com/Hesto/multi-auth
https://github.com/muvatech/Laravel-5.4-Multiple-Authentication-System
https://medium.com/hello-laravel/multiple-authentication-system-laravel-5-4-ac94c759638a

/***********************************Pagination************************************/
10.Pagination:
Command:
php artisan vendor:publish --tag=laravel-pagination
Controller:
public function index(){
$products = Product::orderBy('id', 'ASC')->paginate(1);
return view('products/viewproducts', compact('products'));
}
View:
{{$products->links()}}

/***********************************Deleteing Model Eloquent Events****************/
11.Delete records with folder image(laravel approch eloquent events):
https://stackoverflow.com/questions/14174070/automatically-deleting-related-rows-in-laravel-eloquent-orm
do it like this in model:
use File;

public function images(){
return $this->hasMany('App\ProductsImage','pro_id');
}

// this is a recommended way to declare event handlers
public static function boot() {
parent::boot();

static::deleting(function($product) { // before delete() method call this
//dd('<br>'.$product.'</br>');
//print_r($request->all());exit;
File::delete(public_path('images/backend_images/product').'/'.$product->image);
foreach($product->images()->get() as $image){
File::delete(public_path('images/backend_images/product').'/large/'.$image->image);
File::delete(public_path('images/backend_images/product').'/medium/'.$image->image);
File::delete(public_path('images/backend_images/product').'/small/'.$image->image);
$image->delete();
}
// do the rest of the cleanup...
});
}

Category Model:
public function prodects(){
return $this->hasMany('App\Product','cat_id');
}

// this is a recommended way to declare event handlers
public static function boot() {
parent::boot();
static::deleting(function($category) { // before delete() method call this
foreach($category->prodects()->get() as $product){
//print_r($product); exit;
$product->delete();
foreach($product->images()->get() as $image){
File::delete(public_path('images/backend_images/product').'/large/'.$image->image);
File::delete(public_path('images/backend_images/product').'/medium/'.$image->image);
File::delete(public_path('images/backend_images/product').'/small/'.$image->image);
$image->delete();
}
}
// do the rest of the cleanup...
});

ProductsImage Model:
public function product(){
return $this->belongsTo('App\Product','pro_id');
}

// this is a recommended way to declare event handlers
public static function boot() {
parent::boot();
static::deleting(function($image) { // before delete() method call this
File::delete(public_path('images/backend_images/product').'/large/'.$image->image);
File::delete(public_path('images/backend_images/product').'/medium/'.$image->image);
File::delete(public_path('images/backend_images/product').'/small/'.$image->image);
// do the rest of the cleanup...
});
}
Should be use in controller like: ProductsImage::find($id)->delete(); Not like this: ProductsImage::where(['id'=>$id])->delete();

11.1-Otheres:
Product::find($id)->delete(); single record delete.
ProductsImage::where(['id'=>$id])->delete(); Multiple records delete.

11-2.Delete records with folder image(php approch):
https://laracasts.com/discuss/channels/laravel/how-to-delete-a-file-or-a-photo-from-the-folder-when-deleting-it-from-database?page=1
use App\File;
use Illuminate\Support\Facades\File as LaraFile;
use Illuminate\Support\Facades\DB;
https://laracasts.com/discuss/channels/laravel/delete-uploaded-file-from-public-dir
$image = DB::table('products')->where('id', $id)->first();
$file       = $image->image;
$filename   = public_path('upload').'/'.$file;
LaraFile::delete($filename);
Product::find($id)->delete();
return redirect('products')->with('success', 'Products deleted!');

/***********************************Commands************************************/
12.Install project:
composer create-project laravel/laravel your-project-name 5.8.*
composer update
copy .env.example .env
php artisan key:generate
php artisan migrate
php artisan db:seed
php artisan db:seed --class=CountriesTableSeeder (for specific table seed like countries)
php artisan auth:clear-reset
php artisan config:clear
php artisan route:clear
php artisan view:clear
php artisan cache:clear

13-How to get list of all installed packages along with version in composer?
composer show -i

/***********************************Admin layouts Structure************************************/
14-Admin files include pathes and layouts:
@if(\Request::is('admin/home')) 
<script src="{{asset('js/backend_js/dashboard.js')}}"></script>
@endif
<?php echo $url = url()->current(); ?>
{{asset('bs3/css/bootstrap.min.css')}}
{{asset('fonts/backend_fonts/font-awesome/css/font-awesome.css')}}
{{asset('css/backend_css/clndr.css')}}
{{asset('js/backend_js/jvector-map/jquery-jvectormap-1.2.2.css')}}
{{asset('images/backend_images/avatar1.jpg')}}

@extends('layouts.adminLayout.admin_design')
@section('content')
@endsection

@include('layouts.adminLayout.admin_header')
@include('layouts.adminLayout.admin_sidebar')
@yield('content')
@include('layouts.adminLayout.admin_footer')

Admin:
C:\xampp\htdocs\newproject\resources\views\layouts\adminLayout\admin_header.blade.php
C:\xampp\htdocs\newproject\resources\views\admin\home.blade.php
C:\xampp\htdocs\newproject\resources\views\admin\products\view_products.blade.php
User:
C:\xampp\htdocs\newproject\resources\views\layouts\frontLayout\front_header.blade.php
C:\xampp\htdocs\newproject\resources\views\home.blade.php
C:\xampp\htdocs\newproject\resources\views\users\products\view_products.blade.php

Include css:
https://stackoverflow.com/questions/45279612/including-a-css-file-in-a-blade-template
<link href="{{ url('css/styles.css') }}" rel="stylesheet">
<script src="{{asset('js/app.js')}}"></script>
 <link href="{{asset('css/app.css')}}" rel="stylesheet">

Laravel 5 CSRF global token hidden field for all forms in a page:
{!! csrf_field() !!} 
https://stackoverflow.com/questions/34721965/laravel-multiple-files-on-multiple-items
{!! Form::open(['url' => array('/admin/add_images', $productDetails->id), 'data-toggle' => 'validator','data-disable' => 'false', 'class' => 'form-horizontal', 'files' => true]) !!}
{{ Form::hidden('current_image', $productDetails->image , array('id' => 'current_image')) }}
{!! Form::file('image[]', array('multiple'=>true, 'class'=>'form-control', 'id' => 'image', 'required')) !!}

URl:
{{ url('/task') }}

$admin->password = Hash::make("admin@example.com")
$admin->save()
/***********************************CkEditor************************************/
https://stackoverflow.com/questions/30467275/implementing-ckeditor-in-laravel-5
In admin_design.blade.php:
<!--Ckeditor js-->
<script src="{{ asset('js/backend_js/ckeditor/ckeditor.js') }} "></script>
<script type="text/javascript">
         CKEDITOR.replace( 'description',
         {
          customConfig : 'config.js',
          toolbar : 'simple'
          })
</script> 

In category_form.blade.php:
<script src="//cdn.ckeditor.com/4.5.7/standard/ckeditor.js" ></script>
<div class="form-group {{ $errors->has('description') ? 'has-error' : ''}}">
{!! Form::label('name', 'Descriotion (required)', ['class' => 'control-label col-lg-3']) !!}
<div class="col-lg-6">
{!! Form::textarea('description', null, ['class' => 'form-control', 'required', 'placeholder'=>'Description', 'rows' => '5', 'id' => 'description']) !!}
{!! $errors->first('description', '<p class="errors">:message</p>') !!}
</div>
</div>
/***********************************Helper************************************/
15-Helper:
dropdown in laravel blade form
15.1-Create Helpers folder in app folder and create helpers.php file where use code like this:
<?php
use App\Category;

function getCategory(){
    $categories = Category::pluck('name','id');
    return $categories;
}

function get_catname($cat_id) {   
$categoriesname = DB::table('categories')->where('id', $cat_id)->first();
return (isset($categoriesname->name) ? $categoriesname->name : '');
}
?>
15.2-Add this helpers in composer.js in "autoload-dev": {} section:
"files" :["app/Helpers/helpers.php"],
15.3-And get the function in all the project where you want like this getCategory().
15.4-If helper not load(becase just creaated) we will have to use the command in cmd:
composer dump-autoload

/***********************************Email************************************/
16-Email:
https://www.tutsmake.com/how-to-send-email-in-laravel-with-example/
https://www.cloudways.com/blog/laravel-contact-form/

16.1-First of all changes required in .env file like:
MAIL_DRIVER=smtp
MAIL_HOST=localhost
MAIL_PORT=25
16.2-C:\xampp\htdocs\newproject\config\mail.php
'port' => env('MAIL_PORT', 25),
16.3-C:\xampp\htdocs\newproject\bootstrap\cache\config.php
'mail' => 
  array (
    'driver' => 'smtp',
    'host' => 'localhost',
    'port' => '25',
    'from' => 
    array (
      'address' => 'hello@example.com',
      'name' => 'Example',
),
16.4-Create email template:C:\xampp\htdocs\newproject\resources\views\admin\emails\email.php
<h1>{{ $title }}</h1>
<p>This is my first Email using laravel 5.7</p>
16.5-Email function in controller:
$data['title'] = "This is Test Mail Tuts Make";
Mail::send('admin.emails.email', $data, function($message) {
$message->to('tutsmake@gmail.com', 'Receiver Name')
->subject('Tuts Make Mail');
});
if (Mail::failures()) {
    return response()->Fail('Sorry! Please try again latter');
}else{
    return redirect()->back()->with('flash_message_success', 'Great! Successfully send in your mail');
    //return response()-json('Great! Successfully send in your mail');
}

/***********************************General Setting************************************/
17-General Setting:
https://www.qcode.in/save-laravel-app-settings-in-database/
https://github.com/qcod/laravel-app-settings
17.1-Embaded into admin side:
17.1.1-Keep the route in "admin routes"/"admin routes group" like this:
// Admin Settings Routes
Route::get('settings', 'AdminController\SettingController@index')->name('settings');
Route::post('settings', 'AdminController\SettingController@store')->name('settings.store');
than there will be generate an error("Route [settings.store] not defined. (View: C:\xampp\htdocs\newproject\resources\views\setting\index.blade.php)") means view not finding the route becase we have chagned it and than we will provide the proper route to the view where it is required like in action attribute like this action="{{ route('admin.settings.store') }}".
17.1.2-For controller we will have to re-create the controller with command(php artisan make:controller "AdminController\SettingController") becase of copy past missing some top lines of classess and there is showing an error("Class App\Http\Controllers\AdminController\SettingController does not exist") and then only copy the function inner data and past it into the new created controller function.
Or otherwise only set the path properly in this line(namespace App\Http\Controllers\AdminController;) and also keep this line(use App\Http\Controllers\Controller;) top of the page under "use Illuminate\Http\Request;".
17.1.3-Keep the "Setting" Model(use App\Setting\Setting;) top of the page with proper file and folder path directory otherwise there will be an error("Class 'App\Http\Controllers\AdminController\Setting' not found")
17.1.4-Setting views folder keep in \admin folder an there is accuring an error("View [setting.index] not found.") than we will have to change the path with "admin" folder directory like this @include('admin.setting.fields._text') in email.blade.php, number.blade.php, text.blade.php and finally change path in index.php loop like this: 
@foreach($fields['elements'] as $field)
   @includeIf('admin.setting.fields.' . $field['type'] )
@endforeach

/***********************************Remove Package************************************/
18-How to remove a package from Laravel using composer?
https://stackoverflow.com/questions/23126562/how-to-remove-a-package-from-laravel-using-composer
composer remove vendor/package
composer update
composer dump-autoload

19-logout Admin:
function logoutToPath(){
 return '/admin/login';
}

/***********************************Laravel Ajax************************************/
20-Ajax in laravel:
https://demos.justlaravel.com/ajax-crud-operations-laravel
https://medium.com/justlaravel/ajax-crud-operations-in-laravel-9def2483e1af
https://www.tutsmake.com/laravel-5-7-create-first-ajax-crud-application/
https://github.com/mcnika/laravel-ajax-crud

20.1-Call laravel route from js file:
https://stackoverflow.com/questions/31072883/call-laravel-route-from-js-file
<!--global app configuration object(In main blade html file)-->
<script>
    var config = {
        routes: {
            urlPath: "{{ URL::to('/') }}"
        }
    };
</script>
<!--global app configuration object(In my_script.js file)-->
<script>
$(document).ready(function() {
 var baseURL = config.routes.urlPath;
});
</script>

/***********************************Multiple Image Upload************************************/
21.Multiple Image Upload:
https://www.w3adda.com/blog/laravel-5-8-multiple-image-upload-tutorial-example
https://www.webslesson.info/2019/07/how-to-upload-multiple-images-with-progress-bar-in-laravel-58.html
https://w3path.com/laravel-6-multiple-image-upload-tutorial-example/
https://hdtuto.com/article/laravel-5-ajax-multiple-image-upload-with-preview-example

21.1-https://morioh.com/p/359ed82c5317
composer require intervention/image
$provides => ['Intervention\Image\ImageServiceProvider']
$aliases =>  ['Image' => 'Intervention\Imagr des\Image']

ProductController:
<?php
namespace App\Http\Controllers\AdminController;

use Illuminate\Http\Request;
use Illuminate\Support\Facades\Input;
use App\Http\Controllers\Controller;
use App\File;
use Image;
use Illuminate\Support\Facades\File as LaraFile;
use Redirect,Response,DB,Config;
use Mail;
use App\Category;
use App\Product;
use App\ProductsImage;

class ProductController extends Controller
{
public function viewProducts(){ 
$products = Product::with(['category'])->get();
//dd($products);
return view('admin.products.list')->with(compact('products'));

//$products = Product::orderBy('id', 'ASC')->paginate(1);
//return view('admin.products.view_products', compact('products'));
}

public function addProduct(Request $request){
$image    = $request->file('image');
if($request->isMethod('post')){
$this->validate($request, [
'name'       => 'required',
'cat_id'     => 'required',
'price'      => 'required',
'quantity'   => 'required',
'description'=> 'required',
'image'      => 'required'
]);

$product = new Product([
'name'        => $request->get('name'),
'cat_id'      => $request->get('cat_id'),
'price'       => $request->get('price'),
'quantity'    => $request->get('quantity'),
'description' => $request->get('description'),
'image'       => $request->get('image')
]);

// Upload Image
if($request->hasFile('image')){
$image_tmp = Input::file('image');
if ($image_tmp->isValid()) {
// Upload Images after Resize
$extension = $image->getClientOriginalExtension();
$fileName = rand(111,99999).'.'.$extension;
$image->move(public_path('images/backend_images/product'), $fileName);
$product->image = $fileName; 
}
}

$product->save();
return redirect('admin/view-product')->with('flash_message_success', 'Product has been added successfully!'); 
} 
$productstitle = 'Add Products';
return view('admin.products.add')->with(compact('productstitle'));
}

public function addImages(Request $request, $id=null){

$productDetails = Product::where(['id' => $id])->first();

$categoryDetails = Category::where(['id'=>$productDetails->cat_id])->first();
$category_name = $categoryDetails->name;

if($request->isMethod('post')){

$this->validate($request, [
'image'      => 'required'
]);

$product = new ProductsImage([
'image'       => $request->get('image')
]);

$data = $request->all();



if ($request->hasFile('image')) {
$files = $request->file('image');

foreach($files as $file){
// Upload Images after Resize
$image = new ProductsImage;
$extension = $file->getClientOriginalExtension();
$fileName = rand(111,99999).'.'.$extension;
$large_image_path = 'images/backend_images/product/large'.'/'.$fileName;
$medium_image_path = 'images/backend_images/product/medium'.'/'.$fileName;  
$small_image_path = 'images/backend_images/product/small'.'/'.$fileName;  
Image::make($file)->save($large_image_path);
Image::make($file)->resize(600, 600)->save($medium_image_path);
Image::make($file)->resize(300, 300)->save($small_image_path);
$image->image = $fileName;  
$image->pro_id = $data['hidden_proid'];
$image->save();
}   
}

return redirect('admin/add_images/'.$id)->with('flash_message_success', 'Product Images has been added successfully');

}

$productImages = ProductsImage::where(['pro_id' => $id])->orderBy('id','DESC')->get();
$title = "Add Images";
return view('admin.products.add_images')->with(compact('title','productDetails','category_name','productImages'));
}

public function deleteProductAltImage($id=null){
ProductsImage::find($id)->delete();
return redirect()->back()->with('flash_message_success', 'Product alternate mage has been deleted successfully');
}

public function editProduct(Request $request,$id=null){
$image    = $request->file('image');
if($request->isMethod('post')){

$this->validate($request, [
'name'       => 'required',
'cat_id'     => 'required',
'price'      => 'required',
'quantity'   => 'required',
'description'=> 'required',
'image'      => 'required'
]);
$data = $request->all();

// Upload Image
if($request->hasFile('image')){
$image_tmp = Input::file('image');
if ($image_tmp->isValid()) {
// Upload Images after Resize
$extension = $image_tmp->getClientOriginalExtension();
$fileName = rand(111,99999).'.'.$extension;
$image->move(public_path('images/backend_images/product'), $fileName);
}
}else if(!empty($data['current_image'])){
$fileName = $data['current_image'];
}else{
$fileName = '';
}

Product::where(['id'=>$id])->update(['name'=>$data['name'],'cat_id'=>$data['cat_id'],'price'=>$data['price'],'quantity'=>$data['quantity'],'description'=>$data['description'],'image'=>$fileName]);

//delete image file from upload folder which is send from edit view throught hidden field with the name current_image.
$file       = $data['current_image'];
$filename   = public_path('images/backend_images/product').'/'.$file;
LaraFile::delete($filename);

return redirect('admin/view-product')->with('flash_message_success', 'Product has been updated successfully');
}

$productDetails = Product::where(['id'=>$id])->first();

$productstitle = 'Edit Products';
return view('admin.products.edit')->with(compact('productDetails', 'productstitle'));
}

public function deleteProduct($id = null){
//delete product:
Product::find($id)->delete();
return redirect()->back()->with('flash_message_success', 'Product has been deleted successfully');
}

}

// Admin Categories Routes
Route::match(['get', 'post'], 'add-category','AdminController\CategoryController@addCategory');
Route::match(['get', 'post'], 'edit-category/{id}','AdminController\CategoryController@editCategory');
Route::match(['get', 'post'], 'delete-category/{id}','AdminController\CategoryController@deleteCategory');
Route::get('view-categories','AdminController\CategoryController@viewCategories');

// Admin Product Routes
Route::match(['get', 'post'], 'add-product','AdminController\ProductController@addProduct');
Route::match(['get', 'post'], 'edit-product/{id}','AdminController\ProductController@editProduct');
Route::match(['get', 'post'], 'delete-product/{id}','AdminController\ProductController@deleteProduct');
Route::get('view-product','AdminController\ProductController@viewProducts');

// Admin Product images Routes
Route::match(['get', 'post'], 'add_images/{id}','AdminController\ProductController@addImages');
Route::get('delete_image/{id}','AdminController\ProductController@deleteProductAltImage');


/***********************************Rest APIs(Passport)************************************/
22-Rest APIs:(Packages:laravel/passport, laravolt/avatar, Carbon(laravel built-in class for date formate))
https://medium.com/modulr/create-api-authentication-with-passport-of-laravel-5-6-1dc2d400a7f
https://packagist.org/packages/laravel/passport
composer require laravel/passport 
composer require laravel/passport ^v7.5.1
php artisan migrate
php artisan passport:install
composer require laravolt/avatar
22.1-"Map" and "With" function for listing:
public function viewProducts()
{
$products = Product::with('category')->get();
$allProducts = $products->map(function($q){
$dataArr['product_name']  = $q->name;
$dataArr['category_name']  = $q->category->name;
$dataArr['price']  = $q->price;
return $dataArr;
});
$msg = __('Products retrieved successfully.');
return ApiResponse::successResponse('SUCCESS', $msg, $allProducts);   
}
22.2-Check if Product exist: 
$checkProduct = Product::find($id);
if(is_null($checkProduct)) {
$msg = 'Product not found';
return ApiResponse::errorResponse('BAD_REQUEST', $msg, []);
}
22.3-Illuminate\Database\QueryException: SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails:
it means cat id not exist in product table which i trying to edit so this check will be implemented.
22.4-Check if cat id exist:
$product = Product::find($id);
$catid_notexist   = $product->cat_id <> $request->cat_id;
if($catid_notexist) {
  $msg = 'Category not found';
  return ApiResponse::errorResponse('BAD_REQUEST', $msg, []);
}
22.5-Show all products releted to cat id:
$product = Product::find($id);
$cat_id = $product->cat_id;
$productrelatedtocatid = DB::table('products')->where('cat_id', $cat_id)->get();
22.6-Show all products releted to cat id and product id:
$product = Product::find($id);
$cat_id = $product->cat_id;
$productrelatedtocatid = DB::table('products')->where([
['cat_id', $cat_id],
['id', $id]])->get();


22.4-in api current_image will be use as table field image as given below:
$product = Product::find($id);
$current_image = $product->image;
will not be use hidden filed as send in post request $request['current_image'].

/***********************************Rest APIs Jsone Response Message************************************/
1-Keep these 2 files in "providers" in C:\xampp\htdocs\newproject\app\Providers folder.
1.1-ApiResponseServiceProvider.phpppppppppppppppppppppppppppp
<?php
namespace App\Providers;

use Illuminate\Support\Facades\App;
use Illuminate\Support\ServiceProvider;

class ApiResponseServiceProvider extends ServiceProvider
{
/**
 * Register services.
 *
 * @return void
 */
public function register()
{
//
App::bind('apiresponse', function()

{
return new \App\Facades\ApiResponse;

});
}

/**
* Bootstrap services.
*
* @return void
*/
public function boot()
{
//

}
}

1.2-HttpCodeServiceProvider.phppppppppppppppppppppppppppppppp
<?php
namespace App\Providers;

use Illuminate\Support\Facades\App;
use Illuminate\Support\ServiceProvider;

class HttpCodeServiceProvider extends ServiceProvider
{
/**
 * Register services.
 *
 * @return void
 */
public function register()
{
//
App::bind('httpcode', function()

{
return new \App\Facades\HttpCode;

});
}

/**
* Bootstrap services.
*
* @return void
*/
public function boot()
{
//
}
}

2-Include these below files in config/app.php file 'aliases' => [ array like this:
'ApiResponse'=> App\Facades\ApiResponse::class,
'HttpCode' => App\Facades\HttpCode::class

3-Create new "Facades" folder in C:\xampp\htdocs\newproject\app directory and keep these 2 files there:
3.1-ApiResponse.phpppppppppppppppppppppppppppppppppppp
<?php
namespace App\Facades;
use Illuminate\Support\Facades\Facade;
class ApiResponse
{
protected static function getFacadeAccessor()
{
return 'apiresponse';
}

public static function successResponse($type, $message, $data = [])
{

$successResponseData = [];
$successResponseData['status'] = true;
switch ($type) {

case 'SUCCESS':

$successResponseData['code'] = HttpCode::SUCCESS;
$successResponseData['message'] = $message;
$successResponseData['data'] = $data;

break;
}

return $successResponseData;
}

public static function errorResponse($type, $message, $data = [])
{

$errorResponseData = [];
$errorResponseData['status'] = false;

switch ($type) {

case 'VALIDATION_ERROR':

$errorResponseData['code'] = HttpCode::VALIDATION_FIALED;
$errorResponseData['message'] = $message;
$errorResponseData['data'] = $data;

break;

case 'UNAUTHORIZED_ERROR':

$errorResponseData['code'] = HttpCode::UNAUTHORIZED;
$errorResponseData['message'] = $message;
$errorResponseData['data'] = $data;

break;
case 'BAD_REQUEST':

$errorResponseData['code'] = HttpCode::BAD_REQUEST;
$errorResponseData['message'] = $message;
$errorResponseData['data'] = $data;

break;    

}
return $errorResponseData;
}
}

3.2-HttpCode.phppppppppppppppppppppppppppppppppppppppppp
<?php
namespace App\Facades;
use Illuminate\Support\Facades\Facade;

class HttpCode
{
/*
* HTTP Status Codes
* By: Raheel Aslam
*/
protected static function getFacadeAccessor()
{
return 'httpcode';
}

const PAG_NOT_FOUND = 404;
const UNAUTHORIZED = 401;
const BAD_REQUEST = 400;
const VALIDATION_FIALED  = 422;
const SERVER_ERROR = 500;
const SUCCESS = 200;
const TOO_MANY_REQUESTS = 429;
const BAD_GATEWAY = 502;
const SERVICE_UNAVAILABLE = 503;
const GATEWAY_TIMEOUT = 504;
}




ProductController For APIs:
<?php
namespace App\Http\Controllers\Api\V1;

use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
use Illuminate\Support\Facades\Validator;
use App\Facades\ApiResponse;
use File;
use Image;
use Illuminate\Support\Facades\File as LaraFile;
use Redirect,Response,DB,Config;
use App\Category;
use App\Product;
use App\ProductsImage;
//use App\User;

class ProductController extends Controller
{

public function viewProducts()
{
$products = Product::with('category')->get();

$allProducts = $products->map(function($q){

$dataArr['product_name']   = $q->name;
//$dataArr['allproduct']    = $q;
$dataArr['category_name']  = $q->category->name;
$dataArr['price']          = $q->price;
return $dataArr;
});

$msg = __('Products retrieved successfully.');
return ApiResponse::successResponse('SUCCESS', $msg, $allProducts);

}


public function addProduct(Request $request){

$catid_notexist          = Category::find($request->cat_id);    
if(!$catid_notexist) {
$msg = 'Category not found';
return ApiResponse::errorResponse('BAD_REQUEST', $msg, []);
}

//print_r($request->all());exit;
$validator = Validator($request->all(),[
'name'       => 'required',
'cat_id'     => 'required',
'price'      => 'required',
'quantity'   => 'required',
'description'=> 'required',
'image'      => 'required'
]);

if($validator->fails()){
//dd($validator);
$msg = $validator->errors()->first();
return ApiResponse::errorResponse('VALIDATION_ERROR', $msg, []);
}

$product = new Product([
'name'        => $request->get('name'),
'cat_id'      => $request->get('cat_id'),
'price'       => $request->get('price'),
'quantity'    => $request->get('quantity'),
'description' => $request->get('description'),
'image'       => $request->get('image')
]);

// Upload Image
if($request->hasFile('image')){
$image_tmp = $request->file('image');
if ($image_tmp->isValid()) {
// Upload Images after Resize
$extension = $image_tmp->getClientOriginalExtension();
$fileName = rand(111,99999).'.'.$extension;
$image_tmp->move(public_path('images/backend_images/product'), $fileName);
$product->image = $fileName; 
}
}

$product->save();
$msg = __('Product save successfully');
return ApiResponse::successResponse('SUCCESS', $msg, $product);


$msg = __('Product save successfully');
return ApiResponse::successResponse('SUCCESS', $msg, $product);

}


public function editProduct(Request $request,$id=null){

$product          = Product::find($id);
if(is_null($product)) {
$msg = 'Product not found';
return ApiResponse::errorResponse('BAD_REQUEST', $msg, []);
}

$catid_notexist   = $product->cat_id <> $request->cat_id;
if($catid_notexist) {
$msg = 'Category not found';
return ApiResponse::errorResponse('BAD_REQUEST', $msg, []);
}

$current_image    = $product->image;
//$image    = $request->file('image');
$validator = Validator($request->all(),[
'name'       => 'required',
'cat_id'     => 'required',
'price'      => 'required',
'quantity'   => 'required',
'description'=> 'required',
'image'      => 'required'
]);
if($validator->fails()){
$msg = $validator->errors()->first();
return ApiResponse::errorResponse('VALIDATION_ERROR', $msg, []);
}

$data = $request->all();

// Upload Image
if($request->hasFile('image')){
$image_tmp = $request->file('image');
if ($image_tmp->isValid()) {
// Upload Images after Resize
$extension = $image_tmp->getClientOriginalExtension();
$fileName = rand(111,99999).'.'.$extension;
$image_tmp->move(public_path('images/backend_images/product'), $fileName);
}
}else if(!empty($current_image)){
$fileName = $current_image;
}else{
$fileName = '';
}

$product = Product::where(['id'=>$id])->update(['name'=>$data['name'],'cat_id'=>$data['cat_id'],'price'=>$data['price'],'quantity'=>$data['quantity'],'description'=>$data['description'],'image'=>$fileName]);

//delete image file from upload folder which is send from edit view throught hidden field with the name current_image.
$file       = $current_image;

$filename   = public_path('images/backend_images/product').'/'.$file;
File::delete($filename);

$msg = __('Product has been updated successfully');
return ApiResponse::successResponse('SUCCESS', $msg, $product);

//return redirect('admin/view-product')->with('flash_message_success', 'Product has been updated successfully');


$productDetails = Product::where(['id'=>$id])->first();
$msg = __('Product has been updated successfully');
return ApiResponse::successResponse('SUCCESS', $msg, $productDetails);
//$productstitle = 'Edit Products';
//return view('admin.products.edit')->with(compact('productDetails', 'productstitle'));
}


public function deleteProduct($id = null){

$checkProduct = Product::find($id);

if(is_null($checkProduct)) {
$msg = 'Product not found';
return ApiResponse::errorResponse('BAD_REQUEST', $msg, []);
}

//delete product:
Product::find($id)->delete();
$msg = __('Product has been deleted successfully');
return ApiResponse::successResponse('SUCCESS', $msg, []);

}


public function addImages(Request $request, $id=null){

$Products    = Product::find($id); //Product::where(['id' => $id])->first();
if(is_null($Products)) {
$msg = 'Product not found';
return ApiResponse::errorResponse('BAD_REQUEST', $msg, []);
}

$validator = Validator($request->all(),[

'image'      => 'required'
]);
if($validator->fails()){
$msg = $validator->errors()->first();
return ApiResponse::errorResponse('VALIDATION_ERROR', $msg, []);
}

if ($request->hasFile('image')) {
$files = $request->file('image');
$image = new ProductsImage;

foreach($files as $file){
//print_r($files); exit;

// Upload Images after Resize
$image = new ProductsImage;

$extension = $file->getClientOriginalExtension();
$fileName = rand(111,99999).'.'.$extension;
$large_image_path = 'images/backend_images/product/large'.'/'.$fileName;
$medium_image_path = 'images/backend_images/product/medium'.'/'.$fileName;  
$small_image_path = 'images/backend_images/product/small'.'/'.$fileName;  
Image::make($file)->save($large_image_path);
Image::make($file)->resize(600, 600)->save($medium_image_path);
Image::make($file)->resize(300, 300)->save($small_image_path);
$image->image = $fileName;  
$image->pro_id = $id;//$data['hidden_proid'];
$image->save();
}   
}

$msg = __('Product multi-images added successfully');
return ApiResponse::successResponse('SUCCESS', $msg, []);

}

public function deleteProductAltImage($id=null){

$checkProduct = ProductsImage::find($id);
if(is_null($checkProduct)) {
$msg = 'Image not found';
return ApiResponse::errorResponse('BAD_REQUEST', $msg, []);
}

ProductsImage::find($id)->delete();
$msg = __('Product multiple image deleted successfully');
return ApiResponse::successResponse('SUCCESS', $msg, []);
}


public function categoryProductList($id = null){

$catid_notexist          = Category::find($id);    
if(!$catid_notexist) {
$msg = 'Category not found';
return ApiResponse::errorResponse('BAD_REQUEST', $msg, []);
}

//$cat_id  = $product->cat_id;
$productrelatedtocatid = DB::table('products')->where('cat_id', $id)->get();
$msg = __('Category id '.$id.' related product list successfully');
return ApiResponse::successResponse('SUCCESS', $msg, $productrelatedtocatid);

}
}

Route For Apis:
Route::group([
    'middleware' => 'auth:api'
], function() {
    Route::get('logout', 'Api\V1\AuthController@logout');
    Route::get('user', 'Api\V1\AuthController@user');
});

Route::get('products','Api\V1\ProductController@viewProducts');
Route::match(['get', 'post'], 'addProduct','Api\V1\ProductController@addProduct');
//Route::post('addProduct','Api\V1\ProductController@addProduct');
Route::match(['get', 'post'], 'editProduct/{id}','Api\V1\ProductController@editProduct');
Route::match(['get', 'post'], 'deleteProduct/{id}','Api\V1\ProductController@deleteProduct');
Route::get('categoryProductList/{id}','Api\V1\ProductController@categoryProductList');

Route::post('add_images/{id}','Api\V1\ProductController@addImages');
Route::get('delete_image/{id}','Api\V1\ProductController@deleteProductAltImage');

Route::get('categories','Api\V1\CategoryController@viewCategories');
Route::post('add-category','Api\V1\CategoryController@addCategory');
Route::post('edit-category/{id}','Api\V1\CategoryController@editCategory');
Route::get('delete-category/{id}','Api\V1\CategoryController@deleteCategory');

});


/***********************************Eloquent: Relationships************************************/
23-Eloquent: Relationships(8)
23.1-One to One(hasOne) relationship:
In User model : public function phone(){return $this->hasOne('App\Phone', 'foreign_key', 'local_key');}
Query in view : $phone = User::find(1)->phone;
One to One Inverse(belongsTo) :
In Phone model : public function user(){return $this->belongsTo('App\User', 'foreign_key', 'other_key');}

23.2-One to Many(hasMany):
In Post model : public function comments(){return $this->hasMany('App\Comment', 'foreign_key', 'local_key');}
Query in view : $comments = App\Post::find(1)->comments; foreach ($comments as $comment) { // }
                $comment  = App\Post::find(1)->comments()->where('title', 'foo')->first();
One To Many Inverse(belongsTo):
In Comment model : public function post(){return $this->belongsTo('App\Post', 'foreign_key', 'other_key');}
Query in view    : $comment = App\Comment::find(1); echo $comment->post->title;

23.3-Many to Many(belongsToMany):
In User model : public function roles(){return $this->belongsToMany('App\Role', 'role_user', 'user_id', 'role_id');}
Query in view : $user = App\User::find(1); foreach ($user->roles as $role) {//}
                $roles= App\User::find(1)->roles()->orderBy('name')->get();
Many to Many Inverse(belongsToMany):
In Role model : public function users(){return $this->belongsToMany('App\User');}
Query in view : $user = App\User::find(1); foreach ($user->roles as $role) {echo $role->pivot->created_at;}
                return $this->belongsToMany('App\Role')->withPivot('column1', 'column2');
                return $this->belongsToMany('App\Role')->withTimestamps();
Customizing The pivot Attribute Name:
                return $this->belongsToMany('App\Podcast')->as('subscription')->withTimestamps();
Once Customizing The pivot Attribute Name done, you may access the intermediate table data using the customized name:
                $users = User::with('podcasts')->get(); foreach ($users->flatMap->podcasts as $podcast) { echo $podcast->subscription->created_at;}
Filtering Relationships Via Intermediate Table Columns:
                return $this->belongsToMany('App\Role')->wherePivot('approved', 1);
                return $this->belongsToMany('App\Role')->wherePivotIn('priority', [1, 2]);
Defining Custom Intermediate Table Models(using method):
                Illuminate\Database\Eloquent\Relations\Pivot
                Illuminate\Database\Eloquent\Relations\MorphPivot
In Role model : public function users(){return $this->belongsToMany('App\User')->using('App\RoleUser');}
When defining the RoleUser model, we will extend the Pivot class:
                use Illuminate\Database\Eloquent\Relations\Pivot;
                class RoleUser extends Pivot {//}
You can combine "using" and "withPivot" in order to retrieve columns from the intermediate table:
In Role model : public function users(){ return $this->belongsToMany('App\User')
                ->using('App\RoleUser')
                ->withPivot([
                  'created_by',
                  'updated_by',
                ]);}
Note: Pivot models may not use the SoftDeletes trait. If you need to soft delete pivot records consider converting your pivot model to an actual Eloquent model.
Custom Pivot Models And Incrementing IDs:
If uses a custom pivot model and has an auto-incrementing primary key ensure your custom pivot model class defines an incrementing property that is set to true.
                public $incrementing = true;

23.4-Has One Through[relationship links models through a single record intermediate relation](hasOneThrough):
Want to get the data of 2 relateional models(User, History) into independent model(Supplier).
In Supplier model :  public function userHistory(){return $this->hasOneThrough('App\History', 'App\User');}
The 1 argument is name of the final model(History) we wish to access, while the 2 argument is the name of the intermediate model(User).

23.5-Has Many Through[relationship links models through a muliple records intermediate relation](hasManyThrough):
Wand to get the Posts data of specific country which related to multiple posts
In Country model :  public function posts(){return $this->hasManyThrough('App\Post', 'App\User');}
The 1 argument is name of the final model(Post) we wish to access, while the 2 argument is the name of the intermediate model(User).

23.6-One To One (Polymorphic):
A polymorphic relationship allows the target model to belong to more than one type of model using a single association(Combine different models in one modle).
               class Image extends Model{public function imageable(){return $this->morphTo();}}
               class Post extends Model{public function image(){return $this->morphOne('App\Image', 'imageable');}}
               class User extends Model{public function image(){return $this->morphOne('App\Image', 'imageable');}}
Retrieving The Relationship:
               $post  = App\Post::find(1); $image = $post->image;
               $image = App\Image::find(1); $imageable = $image->imageable;

23.7-One To Many (Polymorphic):
               class Comment extends Model {public function commentable(){return $this->morphTo();}}
               class Post extends Model{public function comments(){return $this->morphMany('App\Comment', 'commentable');}}
               class Video extends Model{public function comments(){return $this->morphMany('App\Comment', 'commentable');}}
Retrieving The Relationship:
               $post    = App\Post::find(1);    foreach ($post->comments as $comment) {//}
               $comment = App\Comment::find(1); $commentable = $comment->commentable;

23.8-Many To Many (Polymorphic):
               class Post extends Model{public function tags(){return $this->morphToMany('App\Tag', 'taggable');}}
Defining The Inverse Of The Relationship:
               class Tag extends Model{
                 public function posts(){return $this->morphedByMany('App\Post', 'taggable');}
                 public function videos(){return $this->morphedByMany('App\Video', 'taggable');}
               }
Retrieving The Relationship:
               $post = App\Post::find(1); foreach ($post->tags as $tag) {//}
               $tag  = App\Tag::find(1);  foreach ($tag->videos as $video) {//}

23.9-Custom Polymorphic Types:
               use Illuminate\Database\Eloquent\Relations\Relation;
               Relation::morphMap(['posts' => 'App\Post', 'videos' => 'App\Video',]);
You may register the morphMap in the boot function of your AppServiceProvider or create a separate service provider if you wish.

24.How to send multiple files in postman Restful web service?
https://stackoverflow.com/questions/28185300/how-to-send-multiple-files-in-postman-restful-web-service
We need to make myfile an array like this: myfile[].

25.Eloquent relationships laravel:
25.1-return $categories = Category::with('prodects.images')->paginate(10);
25.2-return  Product::with(['category' => function ($query) {
            $query->where('name', 'like', '%z%');
        }])->get();

/***********************************Errors************************************/
Errors:
1-Foreign key constraint is incorrectly formed:
When create tables relation like catategories and products in product table use the cat >foreign key like this:(should be->bigInteger not ->integer)
$table->bigInteger('cat_id')->unsigned();
$table->foreign('cat_id')->references('id')->on('categories')->unsigned();

2-Form Submit Error:
when there will be 2 email input in 1 from (2nd email input in hidden section) form will not be submit becase 2nd input field not fill and submit the form.

3-500 Internal Server Error(mean error in code(controller function) like missing some variable value, variable name sending in query function miss-match)

4-"Class App\Http\Controllers\AdminController\ProductsController does not exist"
This error is mostly becase of wrong and miss-match name of conctoller in route and controller main clase name.
5-404 Not Found
This error is accure when page not found the route(for exemple we define route in admin route and also written admin in rout like this Route::get('admin/delete_image/{id}','AdminController\ProductsController@deleteProductAltImage');
So we will use admin only in url like window.location.href= baseURL+"/admin/"+deleteFunction+"/"+id; / action="{{ route('admin.delete_image.id.deleteProductAltImage') }}" but not in routes.

5."Trying to get property 'cat_id' of non-object"
Means this category did note exist or deleted from database.

6.forget to add the table extra columns fields in user model so error accured.
"message": "SQLSTATE[HY000]: General error: 1364 Field 'activation_token' doesn't have a default value (SQL: insert into `users` (`name`, `email`, `password`, `updated_at`, `created_at`) values (faiz, faiz@user1111.com, $2y$10$0./YdxNqy4O8gxIdoMLLVusakL9EZh3BAZEmqV8ArTc.3jDd48HSu, 2019-11-12 08:00:38, 2019-11-12 08:00:38))",

7.ImageMagick module not available with this PHP installation
Enabling imagick via your php.ini:
extension=imagick.so
and add config/laravolt/avatar.php files form the project which is following.

8.Unexpected '<'
To avoid that, login to postman with the login api and try to hit your service.
Or its happen also becase of header keys and values not set like:
Content-Type : application/json
X-Requested-With : XMLHttpRequest

9."Class 'App\\PasswordReset' not found",
PasswordReset model not finding becase not copy/past from other project.

Database Terms:
Unsigned:
Unsigned type can be used to permit only nonnegative numbers in a column.
Primary key:
A primary key is a field in a table which uniquely identifies each row/record in a database table. Primary keys must contain unique values. A primary key column cannot have NULL values. A table can have only one primary key, which may consist of single or multiple fields.
Foreign Key:
Again in the relational model, a foreign key is an attribute or collection of attributes from one relational table whose values must match another relational table's primary key.
Index:
Indexes are special lookup tables that the database search engine can use to speed up data retrieval. An index in a database is very similar to an index in the back of a book.
Unique index:
A unique index ensures that the values in the index key columns are unique. A unique constraint(rules) also guarantees that no duplicate values can be inserted.
CASCADE:
It is used in conjunction with ON DELETE or ON UPDATE. It means that the child data is either deleted or updated when the parent data is deleted or updated. SET NULL. It is used in conjunction with ON DELETE or ON UPDATE.

/***********************************Collection Methods************************************/
Usefull Methods:
1-lazy vs eager loading in Laravel:
https://dev.to/costicaaa/debugging-queries---lazy-vs-eager-loading-in-laravel-3emh

$cat_id = $product->cat_id;

Others:
https://laravel.com/docs/5.1/quickstart#stubbing-the-routes
{{ dump($task) }} or {{ (print_r($errors)) }}=====>like print_r()
{{-- {{ dump($task) }} --}}====comment code

1-Count:
print_r($categories->count()); exit;

2->CountBy:
$collection = collect(['alice@gmail.com', 'bob@yahoo.com', 'carlos@gmail.com']);
$counted = $collection->countBy(function ($email) {
return substr(strrchr($email, "@"), 1);
});
return $counted->all();

3-Chunk:
$categories = Category::get()->chunk(2);

4-Merge:
$users      = User::get();
$categories = Category::get();
$userAndCategories = $users->merge($categories);

5-Implode / Take / Last / First:
$categories = Category::get();
 $imploded   = $categories->take(2)->implode('name', ', ').
               ' and '.$categories->last()->name . 
               ' have recently followed you.';

6-Combine:
$collection = collect(['id', 'name', 'description']);
$combined   = $collection->combine(['George', 29, 'aaaa']);
$combined->all();

7-Concat:
$categories   = Category::with('prodects')->get();
$concatenated = $categories->concat(['Jane'])->concat(['name' => 'Doe']);
return $concatenated->all();

8-Contains:
"The Response content must be a string or object implementing __toString(), \"boolean\" given.",
return $contains = json_encode($categories->contains('name', 'A')); if error accour use json_encode
$categories   = Category::get();
$contains     = $categories->contains('name[columname]', 'A[columvalue]');
$collection   = collect([1, 2, 3, 4, 5]);
$collection->contains(function ($value, $key) {
    return $value > 5;
}); 
//false

9-Pluck:
$categories = Category::pluck('id')->toArray();
$categories = Category::pluck('id')->first();
$categories = Category::pluck('id')->last();
use Illuminate\Support\Arr;
$lastNames  = Arr::pluck($categories, 'name', 'id');

10-Duplicates:
$categories   = Category::pluck('name');
$categoriess  = $categories->duplicates();

11-Each:
$collection  = $categories->each(function ($item, $key) {
$item->color = $item->name.' '.$item->description;
return $item;
});
//print_r($collection);

12-Filter
$categories   = Category::with('prodects')->get();
$filter  = $categories->filter(function($value, $key) {
if ($value['name'] == 'eee') {
return true;
}
});
//return $filter->all();

13-Search:
$categories = Category::pluck('name');
$search     = $categories->search('A');
return $search;

14-Map:
$products = Product::with('category')->get();
$allProducts = $products->map(function($q){
$dataArr['product_name']  = $q->name;
$dataArr['category_name'] = $q->category->name;
$dataArr['price']  = $q->price;
return $dataArr;
});

15-Zip:
$categories = Category::get();
$zipped     = $categories->zip([1, 2, 3]);

16-WhereNotIn / WhereIn:
$categories = Category::get();
$whereNotIn = $categories->whereNotIn('id', [9, 10]);
WhereIn:
$categories = Category::get();
$whereNotIn = $categories->whereIn('id', [9, 10]);

16-Max:
$categories = Category::get();
$max = $categories->max('id');

17-Tap:
$categories = Category::get();
$collection = $categories->whereNotIn('id', 9)
->tap(function ($categories) {
$categories = $categories->where('id', 10);
info($categories->values());
})
->all();

18-Pipe:
$categories = Category::get();
$collection = $categories->pipe(function($categories) {
return $categories->min('id');
});

19-Forget:
$categories = Category::pluck('name');;
$forget     = $categories->forget(['1', '2','3'])->all();

20-Avg:
$categories = Category::pluck('id');
$avg = $categories->avg();

/***********************************Yajra Datatable************************************/
https://www.itsolutionstuff.com/post/laravel-58-datatables-tutorialexample.html
'providers' => [Yajra\DataTables\DataTablesServiceProvider::class,]
'aliases'   => ['DataTables' => Yajra\DataTables\Facades\DataTables::class,]

Keep in header jquery file:
<script type="text/javascript" src="{{asset('js/backend_js/datatable/jquery-1.12.3.js')}}"></script>

Conflic js files:
<script src="{{asset('js/modal_app.js')}}"></script>
<script src="{{ asset('js/backend_js/jquery.min.js') }} "></script>

Debug: for debug use url in browser:
http://localhost/newproject/public/admin/categories/get-ajax

Routing::::::::::::::::::::::::::::::::::::::::
Route::get('categories/get-ajax','AdminController\CatController@getAjaxCategories');
Route::resource('categories', 'AdminController\CatController');

Controller:::::::::::::::::::::::::::::::::::::::::
public function index(Request $request)
{
return view('admin.categories.view_categories');
}

public function getAjaxCategories(){
$data = Category::get();
return DataTables::of($data)
->addColumn('action', function($row){

$btn = '<a href="'.url("admin/categories").'/'.$row->id.'/edit'.'" class="edit btn btn-primary btn-sm">Edit</a>&nbsp<button id="deleteRecord" class="edit btn btn-danger btn-sm btn-delete" data-url="'.url("admin/categories").'/'.$row->id.'">Delete</button>';

return $btn;
})
->rawColumns(['action']) //escapeColumns(['action']) escapeColumns use for remove the htmltags.
->make(true);
}

public function destroy($id)
{
Category::find($id)->delete();
$msg = __('Category has been deleted successfully');
return ApiResponse::successResponse('SUCCESS', $msg, []);
//return redirect()->back()->with('flash_message_success', 'Category has been deleted successfully');
}

View::::::::::::::::::::::::::::::::::::::::
@extends('layouts.adminLayout.admin_design')
@section('content')


<!-- page start-->
<div class="row">
<div class="col-sm-12">
<section class="panel">
<header class="panel-heading">
Categories
@if(Session::has('flash_message_error'))
<div class="alert alert-error alert-block">
<button type="button" class="close" data-dismiss="alert"></button>
<strong>{!! session('flash_message_error') !!}</strong>
</div>
@endif
@if(Session::has('flash_message_success'))
<div class="alert alert-success alert-block">
<button type="button" class="close" data-dismiss="alert"></button>
<strong>{!! session('flash_message_success') !!}</strong>
</div>
@endif


<div style="display:none;" class="alert alert-success alert-block ajaxAlert">
<button type="button" class="close" data-dismiss="alert"></button>
<strong></strong>
</div>    
</header>
<div class="panel-body">
<div class="adv-table">
<table class="display table table-bordered table-striped data-table" >
<thead>
<tr>
<th>ID</th>
<th>Name</th>
<th>Discription</th>
<th>Actions</th>
</tr>
</thead>

<tfoot>
<tr>
<th>ID</th>
<th>Name</th>
<th>Discription</th>
<th>Actions</th>
</tr>
</tfoot>
</table>
</div>
</div>
</section>
</div>
</div>
<!-- page end-->

<script type="text/javascript">
$('.data-table').on('click','.btn-delete',function(e){
var url = $(this).data('url');
alert(url);
$.confirm({
title: 'Confirm!',
content: 'Are You Sure Want to delete?',
buttons: {
confirm: function () {
e.preventDefault();
$.ajaxSetup({
headers: {
'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
}
});

// confirm then
$.ajax({
url: url,
type: 'DELETE',
dataType: 'json',
data: {
method: '_DELETE', submit: true
},
success: function(data) {
$('.ajaxAlert').show().html(data['message']);
$('.data-table').DataTable().ajax.reload();
//$('#conformPopup').hide();
}
});
},
cancel: function () {
//$.alert('Canceled!');
}
}
});
})



//Load yajra data into the listing:
 $(document).ready(function() {
     $('.data-table').DataTable({
        processing: true,
        serverSide: true,
        ajax: "{{ url('admin/categories/get-ajax') }}",
        columns: [
            {data: 'id', name: 'id'},
            {data: 'name', name: 'name'},
            {data: 'description', name: 'description'},
            {data: 'action', name: 'action', orderable: false, searchable: false},
        ]
    });
  });
</script>
@endsection

/***********************************Jquery Confirm Popup************************************/
https://craftpip.github.io/jquery-confirm/
Conflicting files:
<script src="{{asset('js/backend_js/jquery.js')}}"></script>
<script src="{{asset('js/app.js')}}"></script>

Files in Header:
<!--Confirm_Jquery_Popup-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.js"></script>

<script type="text/javascript">
$('.data-table').on('click','.btn-delete',function(e){
var url = $(this).data('url');
$.confirm({
title: 'Confirm!',
content: 'Are You Sure Want to delete?',
buttons: {
confirm: function () {
e.preventDefault();
$.ajaxSetup({
headers: {
'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
}
});

// confirm then
$.ajax({
url: url,
type: 'DELETE',
dataType: 'json',
data: {
method: '_DELETE', submit: true
},
success: function(data) {
$('.ajaxAlert').show().html(data['message']);
$('.data-table').DataTable().ajax.reload();
//$('#conformPopup').hide();
}
});
},
cancel: function () {
//$.alert('Canceled!');
}
}
});
})



//Load yajra data into the listing:
$(document).ready(function() {
$('.data-table').DataTable({
processing: true,
serverSide: true,
ajax: "{{ url('admin/categories/get-ajax') }}",
columns: [
{data: 'id', name: 'id'},
{data: 'name', name: 'name'},
{data: 'description', name: 'description'},
{data: 'action', name: 'action', orderable: false, searchable: false},
]
});
});

</script>

/***********************************Multilingual Website using Laravel Localization****************/
https://www.larashout.com/how-to-create-multilingual-website-using-laravel-localization
https://stackoverflow.com/questions/51713326/laravel-5-6-how-to-switch-languages-with-html-anchor-or-other-tag
Step 1. Creating Translation Folder and Files
Now we will create, folders inside resources/lang folder with the locale name. Like below.
resources -> lang -> en
resources -> lang -> es
resources -> lang -> fr
Now create a app.php file in all above folders and place the below code respectively.
For en/app.php
return [
    'title' =>  'Localization Exmaple'
];
For es/app.php
return [
    'title' =>  'Ejemplo de localizacin'
];
For fr/app.php
return [
    'title' =>  'Exemple de localisation'
];
Now we will create below files in resources/lang folder.
Note: will not create the json file for english we will be placing that values directly into our view as Laravel load en locale by default.
resources -> lang -> es.json
resources -> lang -> fr.json
After creating the above files, place below code inside each file.
For es.json
{
"Name" : "Nombre",
"Discription" : "Discription",
"Actions" : "Comportamiento",
}
For fr.json
{
"Name" : "prnom",
"Discription" : "Discription",
"Actions" : "actes",
}

Step 2. Setting up Langauges Dropdown Menu and Current Locale(selected languge) in Dropdown:
<div class="top-nav clearfix">
<ul style="padding-top:5px;" class="nav pull-right top-menu">
<li class="dropdown">
<a style="padding:5px; font-size:13px;" data-toggle="dropdown" class="dropdown-toggle" href="#">
@php $locale = session()->get('locale'); @endphp
@switch($locale)
@case('fr')
<img src="{{asset('images/backend_images/flags/fr.png')}}" width="30px" height="20x"> French
@break
@case('es')
<img src="{{asset('images/backend_images/flags/es.png')}}" width="30px" height="20x"> Spanish
@break
@default
<img src="{{asset('images/backend_images/flags/us.png')}}" width="30px" height="20x"> English
@endswitch
</a>

<!-- Right Side Of Navbar -->
<ul class="dropdown-menu extended logout">
<!-- Authentication Links -->
<li><a class="lang" data-lang="en" href="#"><img src="{{asset('images/backend_images/flags/us.png')}}" width="30px" height="20x"> English</a></li>
<li><a class="lang" data-lang="fr" href="#"><img src="{{asset('images/backend_images/flags/fr.png')}}" width="30px" height="20x"> French</a></li>
<li><a class="lang" data-lang="es" href="#"><img src="{{asset('images/backend_images/flags/es.png')}}" width="30px" height="20x"> Spanish</a></li>

</ul>
</li>
</ul>

</div>

Keep in header Switch languages js functuion:
<script type="text/javascript">
$(function(){
// Switch languages
$('.lang').on('click', function($event) {
$event.preventDefault();
var $selectedLang = $(this).data('lang');
var $baseurl = {!! json_encode(url('/admin/switchLang/')) !!};
var $base_url  = $baseurl + '/'+ $selectedLang;
//alert($baseurl);
$.ajax({
url: $base_url,
type: 'GET',
success: function(response)
{
//console.log(response);
location.href = window.location.href;
}
});
});
});
</script>

Keep switchLang functuion in Controller:
public function switchLang($lang)
{
App::setLocale(session()->get('locale'));
session()->put('locale', $lang);
$response = ['status' => 'success', 'code' => '200', 'message' => 'Language was switched.', 'metod' => 'GET'];
return $response;
}

In Route:(We will use the default laravel Route::resource)
Route::resource('categories', 'AdminController\CatController');
Route::get('switchLang/{lang}', 'AdminController\CatController@switchLang')->name('switchLanguage');

In View get like this:
{{ trans('app.title') }}
<th>{{ __("Name")}}</th>
<th>{{ __("Discription")}}</th>
<th>{{ __("Actions")}}</th>

Step 3. Setting up Middleware:
php artisan make:middleware Localization
Now open your newly created middleware App\Http\Middleware\Localization and update the handle method with below code.
public function handle($request, Closure $next)
{
if (session()->has('locale')) {
App::setLocale(session()->get('locale'));
}
return $next($request);
}

Step 4. Registering Localization Middleware:
Now add the middleware in App/Http/Kernels $middlewareGroups array like so:
protected $middlewareGroups = [
'web' => [
\App\Http\Middleware\Localization::class, // Our localization middleware
],

/***********************************Logs************************************/
Laravel Default Logs:
http://localhost/newproject/storage/logs/laravel-2019-12-04.log
Log::info('Edit Category');

Laravel Package Monolog:
https://github.com/Seldaek/monolog
Note : This error can be shown becase of date formate issue ===> Expecting 'EOF', '}', ',', ']'
Usage:
http://localhost/newproject/storage/categories_logs/editCategorylogs.log
use Monolog\Logger;
use Monolog\Handler\StreamHandler;
use \Monolog\Formatter\LineFormatter;

In function:
$dateFormat = "[Y-n-j, g:i a]";
$output = "%datetime% > %level_name% > %message% %context% %extra%\n";
$formatter = new LineFormatter(null, null, $output, $dateFormat);
// Create a handler
$stream = new StreamHandler(storage_path('categories_logs\editCategorylogs.log'), Logger::WARNING);
EMERGENCY, ALERT, CRITICAL, ERROR, WARNING, NOTICE, INFO, DEBUG 

$stream->setFormatter($formatter);
// bind it to a logger object
$securityLogger = new Logger('security');
$securityLogger->pushHandler($stream);
$securityLogger->emergency('This is a emergency log!');
$securityLogger->alert('This is a alert log warning!');
$securityLogger->critical('This is a critical log error!');
$securityLogger->error('This is a error log error!');
$securityLogger->warning('This is a warning log error!');
$securityLogger->notice('This is a notice log error!');
$securityLogger->info('This is a info log error!');
$securityLogger->debug('This is a debug log error!');

Available Channel Drivers:
stack, single, daily, slack, slack, errorlog, monolog, custom

Writing Log Messages:
Log::emergency($message);
Log::alert($message);
Log::critical($message);
Log::error($message);
Log::warning($message);
Log::notice($message);
Log::info($message);
Log::debug($message);
/***********************************Service Provider For Logs************************************/
https://code.tutsplus.com/tutorials/how-to-register-use-laravel-service-providers--cms-28966
1-Create Your Custom Service Provider
php artisan make:provider LogsCustomServiceProvider
<?php (C:\xampp\htdocs\newproject\app\Providers\LogsCustomServiceProvider.php)
namespace App\Providers;
use Illuminate\Support\ServiceProvider;
use App\Library\Services\CustomLogs;

class LogsCustomServiceProvider extends ServiceProvider
{
public function register()
{
$this->app->bind('App\Library\Services\CustomLogs', function ($app) {
return new CustomLogs();
});
}

public function boot()
{
}
}

2-Register Your Custom Service Provider(C:\xampp\htdocs\newproject\config\app.php)
'providers' => [
App\Providers\LogsCustomServiceProvider::class,
]

3-Create the CustomLogs file for class which use globly in this directory => app/Library/Services/CustomLogs.php
<?php
namespace App\Library\Services;
use Monolog\Logger;
use Monolog\Handler\StreamHandler;
use \Monolog\Formatter\LineFormatter;
  
class CustomLogs
{
    public function customLogsFunction()
    {
      $dateFormat = "[Y-n-j, g:i a]";
      $output = "%datetime% > %level_name% > %message% %context% %extra%\n";
      $formatter = new LineFormatter(null, null, $output, $dateFormat);
      // Create a handler
      $stream = new StreamHandler(storage_path('categories_logs\editCategorylogs.log'), Logger::INFO);
      $stream->setFormatter($formatter);
      // bind it to a logger object
      $securityLogger = new Logger('security');
      $securityLogger->pushHandler($stream);
      return $securityLogger;
    }
}

4-Use in Controller:
<?php
use App\Library\Services\CustomLogs;
public function edit($id, CustomLogs $customLogsServiceInstance)
{
$this->custom_log = $customLogsServiceInstance->customLogsFunction();
$this->custom_log->info('This is a info log error!');
}
/***********************************ACL(Access Controll List)************************************/
https://github.com/spatie/laravel-permission
https://docs.spatie.be/laravel-permission/v3/introduction/
https://www.itsolutionstuff.com/post/laravel-58-user-roles-and-permissions-tutorialexample.html
Total table created(5)
model_has_permissions, model_has_roles, permissions, roles, role_has_permissions, 

$user = Auth::user();
$user->givePermissionTo('role-delete');
$data = $user->assignRole('subscriber');

$user = auth()->user();
$id  = $user->id;
$role = Role::first();
$role->givePermissionTo('product-delete');

Spatie Laravel Permission Package Tutorial | Introduction #1
Note: use these things in admin controller:
use Spatie\Permission\Traits\HasRoles;
class Admin extends Authenticatable
{
    use Notifiable;
    use HasRoles;
}

//Create Roles and Permissions:
//$role = Role::create(['name' => 'writer']);
//$permission = Permission::create(['name' => 'edit_articles']);

//A permission can be assigned to a role using
//$role = Role::findById(5);
//$permission = Permission::findById(6);
//$role->givePermissionTo($permission);

//A permission give to user
//$user = Auth::user();
//$user->givePermissionTo('role-create');

//A permission can be assigned to a role
//Auth::user()->givePermissionTo('edit_articles');
//Auth::user()->assignRole('writer');

//Get result at front-end in json
//return Auth::user()->permissions;

//A permission can be assigned to a role2
//$permission = Permission::create(['name' => 'write_articles']);
//$role       = Role::findById(5);
//$role->givePermissionTo($permission);

// Returns only users with the role 'writer'
//return $users = Admin::role('writer')->get();

// Returns only users with the permission 'edit_articles' (inherited or directly)
//return $users = Admin::permission('edit_articles')->get();

// Returns Permission Names
//$permissionNames    = Auth::user()->getPermissionNames(); // collection of name strings
//return $permissions = Auth::user()->permissions;

// get all permissions for the user, either directly, or from roles, or from both
//use Spatie\Permission\Models\Role;
//use Illuminate\Support\Collection;

//return $permissions = Auth::user()->getDirectPermissions();
//return $permissions = Auth::user()->getPermissionsViaRoles();
//return $permissions = Auth::user()->getAllPermissions();

//return $roles = Auth::user()->getRoleNames();

/***********************************my_script.js************************************/
// Action Delete Record 
$('#datatable').on('click','.btn-delete',function(e){

    e.preventDefault();
    var reload_datatable = $("#datatable").dataTable({bRetrieve: true});
    //console.log(reload_datatable);
    var url = $(this).data('url');
    //alert(url);
    $.confirm({
      title: 'Confirm!',
      content: 'Are You Sure Want to delete?',
      buttons: {
          confirm: function () {
                  e.preventDefault();
                  $.ajaxSetup({
                      headers: {
                          'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                      }
                  });
                  // confirm then
                  $.ajax({
                      url: url,
                      type: 'delete',
                      complete: function(data) {
                  
                          console.log(data);
                           if (reload_datatable != "") {
                                  reload_datatable.fnDraw();
                              }
                          $('.ajaxAlert').show().html('asdsa dasdadadad ');
                          success_message(data.message);
                         
                          //$('#datatable').DataTable().ajax.reload();
                          //$('#conformPopup').hide();
                      }
                  });
          },
          cancel: function () {
              //$.alert('Canceled!');
          }
      }
  });
  })


// Create Data Table  
function createDatable(url, columns, ordering = [], listing_name) {
    // console.log("datatableLoader", datatableLoader);
    var baseURL = config.routes.urlPath;
    var loader = '<img src="'+baseURL+'/images/backend_images/input-spinner.gif'+'" alt="Processing..." class="loader_img">';
    //alert(loader);
    //console.log('loader', loader);
    var oTable = $("#datatable").DataTable({
        serverSide: true,
        bFilter: true,
        ordering: true,
        bSortCellsTop: true,
        responsive: true,
        stateSave: true,
        processing: true,
        pageLength: 50,
        language: {
            lengthMenu: "Records Per Page: _MENU_",
            processing: loader,
        },
        // dom: "<t><'row'<'col-sm-4'i><'col-sm-4'l><'col-sm-4'p>>",
        // dom: "<<rt>ilp>",
        dom: "rtilp",
        // dom: '<f<t>ilp>',
        ajax: {
            url: url,
            data: function (d) {
                switch(listing_name){
                    case "users":
                      
                    break;

                }
            },
            error: function (request, status, error) {
                let result = request.responseJSON;
                //if (result.message)
                    //console.log(result.message);
            }
        },
        columns: columns,
        columnDefs: [
            {"className": "dt-left", "targets": "_all"},// break-words
          ],
        aaSorting: [],
        lengthMenu: [
                    [10, 20, 50, 100, 150, -1],
                    [10, 20, 50, 100, 150, "All"] // change per page values here
                ],
    });
    

   
}

//Toastr Success Alert Messages
function success_message(message, title) {
    if (!title) title = "Success!";
    toastr.remove();
    toastr.success(message, title, {
        closeButton: true,
        timeOut: 5000,
        progressBar: true,
        newestOnTop: true
    });
}

//Toastr Error Alert Messages
function error_message(message, title) {
    if (!title) title = 'Title';
    toastr.remove();
    toastr.error(message, title, {
        closeButton: true,
        timeOut: 5000,
        progressBar: true,
        newestOnTop: true
    });
}

/***********************************app/Http/Kernel.php************************************/
protected $routeMiddleware = [
	....
	'role' => \Spatie\Permission\Middlewares\RoleMiddleware::class,
	'permission' => \Spatie\Permission\Middlewares\PermissionMiddleware::class,
]
/***********************************add/Exceptions/Handler.php(Handle Exertion Error)*********/
public function render($request, Exception $exception)
{
    if ($exception instanceof \Spatie\Permission\Exceptions\UnauthorizedException) {
        return response()->json(['User have not permission for this page access.']);
    }
 
    return parent::render($request, $exception);
}
/***********************************Left Side Bar************************************/
@can('role_create')
<li><a class="{{ request()->is('admin/roles/create') ? 'selected' : '' }}" href="{{url('/admin/roles/create')}}">Add Roles</a></li>
@endcan
/***********************************User Controller************************************/
<?php
namespace App\Http\Controllers\AdminController;

use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
use Illuminate\Support\Facades\Validator;
use DataTables;
use App\Admin;

use Spatie\Permission\Models\Role;
use Spatie\Permission\Models\Permission;
use Illuminate\Support\Facades\Auth;
use DB;
use Hash;

class UserController extends Controller
{
/**
 * Display a listing of the resource.
 *
 * @return \Illuminate\Http\Response
 */
public function index(Request $request)
{ 
return view('admin.users.list');
}

public function getAjaxUser(){
$post = Admin::get();

return DataTables::of($post)
->addColumn('id', function ($post) {
return $post->id;
})
->addColumn('name', function ($post) {
return $post->name;
})
->addColumn('email', function ($post) {
return $post->email;
})
->addColumn('role', function ($post) {
$roles =  $post->getRoleNames();
$roleArray = [];
foreach($roles as $role){
array_push($roleArray, $role);
}
return $roleArray;

})
->addColumn('action', function ($post) {
$btn = '<a href="'.url("admin/users").'/'.$post->id.'/edit'.'" class="edit btn btn-primary btn-sm">Edit</a>&nbsp<button id="deleteRecord" class="edit btn btn-danger btn-sm btn-delete" data-url="'.url("admin/users").'/'.$post->id.'">Delete</button>';
return $btn;
})
->rawColumns(['action','role'])
->make(true);
}

/**
* Show the form for creating a new resource.
*
* @return \Illuminate\Http\Response
*/
public function create()
{
$usertitle = 'Add Users';
$user_id   = auth()->user()->id;
$user      = admin::find($user_id);
$roles     = Role::pluck('name','name')->all();
//$userRole  = $user->roles->pluck('name','name')->all();
//dd($userRole);
return view('admin.users.add',compact('roles', 'usertitle'));
}

/**
* Store a newly created resource in storage.
*
* @param  \Illuminate\Http\Request  $request
* @return \Illuminate\Http\Response
*/
public function store(Request $request)
{
$this->validate($request, [
'name' => 'required',
'email' => 'required|email|unique:admins,email',
'password' => 'required|same:confirm-password',
'roles' => 'required'
]);


$input = $request->all();
$input['password'] = Hash::make($input['password']);

$user = Admin::create($input);
$user->assignRole($request->input('roles'));

return redirect('admin/users')->with('flash_message_success', 'User has been added successfully!'); 

}

/**
* Display the specified resource.
*
* @param  int  $id
* @return \Illuminate\Http\Response
*/
public function show($id)
{
$user = Admin::find($id);
return view('admin.users.edit',compact('user'));
}

/**
* Show the form for editing the specified resource.
*
* @param  int  $id
* @return \Illuminate\Http\Response
*/
public function edit($id)
{
$usertitle = 'Edit User';
$user      =  Admin::find($id);
$roles     = Role::pluck('name','name')->all();
$userRole  = $user->roles->pluck('name','name')->all();
return view('admin.users.edit',compact('user','roles','userRole', 'usertitle'));
}

/**
* Update the specified resource in storage.
*
* @param  \Illuminate\Http\Request  $request
* @param  int  $id
* @return \Illuminate\Http\Response
*/
public function update(Request $request, $id)
{
$this->validate($request, [
'name' => 'required',
'email' => 'required|email|unique:admins,email,'.$id,
'password' => 'same:confirm-password',
'roles' => 'required'
]);

$input = $request->all();
if(!empty($input['password'])){ 
$input['password'] = Hash::make($input['password']);
}else{
$input = array_except($input,array('password'));    
}

$user = Admin::find($id);
$user->update($input);
DB::table('model_has_roles')->where('model_id',$id)->delete();
$user->assignRole($request->input('roles'));

return redirect('admin/users')->with('flash_message_success', 'User has been updated successfully!');
}

/**
* Remove the specified resource from storage.
*
* @param  int  $id
* @return \Illuminate\Http\Response
*/
public function destroy($id)
{
//dd('aaaaaa');
Admin::find($id)->delete();
return redirect('admin/users')->with('flash_message_success', 'User deleted successfully!');
}

}
?>
/***********************************User list.blade.php************************************/
@extends('layouts.adminLayout.admin_design')
@section('content')

<!-- page start-->
<div class="row">
<div class="col-sm-12">
<section class="panel">
<header class="panel-heading">
Users
@if(Session::has('flash_message_error'))
<div class="alert alert-error alert-block ajaxAlert">
<button type="button" class="close" data-dismiss="alert"></button>
<strong>{!! session('flash_message_error') !!}</strong>
</div>
@endif
@if(Session::has('flash_message_success'))
<div class="alert alert-success alert-block">
<button type="button" class="close" data-dismiss="alert"></button>
<strong>{!! session('flash_message_success') !!}</strong>
</div>
@endif
</header>

<div class="panel-body">
<div class="adv-table">
<table class="display table table-bordered table-striped data-table" id="datatable">
<thead>
<tr>
<th>ID</th>
<th>Name</th>
<th>Email</th>
<th>Roles</th>
<th>Actions</th>
</tr>
</thead>

<tfoot>
<tr>
<th>ID</th>
<th>Name</th>
<th>Email</th>
<th>Roles</th>
<th>Actions</th>
</tr>
</tfoot>
</table>
</div>
</div>
</section>
</div>
</div>
<!-- page end-->

<script type="text/javascript">
$(document).ready(function() {
let url = '{{ url('admin/users/get-ajax') }}';
let columns = [
{data: 'id', name: 'id', "width": "30%"},
{data: 'name', name: 'name'},
{data: 'email', name: 'email'},
{data: 'role', name: 'role'},
{data: 'action', name: 'action'}
];
createDatable(url, columns, [0],'users');
});  
</script>
@endsection
/***********************************User form.blade.php************************************/
<div class="rows">
<div class="col-lg-12">
<section class="panel">
<header class="panel-heading">
{{ $usertitle }}
<span class="tools pull-right">
<a class="fa fa-chevron-down" href="javascript:;"></a>
<a class="fa fa-cog" href="javascript:;"></a>
<a class="fa fa-times" href="javascript:;"></a>
</span>
</header>
<div class="panel-body">
<div class=" form">
{{ $usertitle }}
<form class="cmxform form-horizontal " id="commentForm" method="get" action="">
<div class="form-group {{ $errors->has('name') ? 'has-error' : ''}}">
{!! Form::label('name', 'Name', ['class' => 'control-label col-lg-3']) !!}
<div class="col-lg-6">
{!! Form::text('name', null, ['class' => ' form-control', 'required', 'id' => 'name', 'placeholder' => 'Your Name']) !!}
{!! $errors->first('name', '<p class="errors">:message</p>') !!}
</div>
</div>

<div class="form-group {{ $errors->has('email') ? 'has-error' : ''}}">
{!! Form::label('email', 'Email', ['class' => 'control-label col-lg-3']) !!}
<div class="col-lg-6">
{!! Form::text('email', null, ['class' => 'form-control','required' => 'required', 'placeholder' => 'Email']) !!}
{!! $errors->first('email', '<p class="errors">:message</p>') !!}
</div>
</div>

<div class="form-group {{ $errors->has('password') ? 'has-error' : ''}}">
{!! Form::label('password', 'Password', ['class' => 'control-label col-lg-3']) !!}
<div class="col-lg-6">
{!! Form::password('password', ['class' => 'form-control', 'required', 'id' => 'password',
'placeholder' => 'Password']) !!}
{!! $errors->first('password', '<p class="errors">:message</p>') !!}
</div>
</div>

<div class="form-group {{ $errors->has('confirm-password') ? 'has-error' : ''}}">
{!! Form::label('confirm-password', 'Confirm Password', ['class' => 'control-label col-lg-3']) !!}
<div class="col-lg-6">
{!! Form::password('confirm-password', ['class' => ' form-control', 'required', 'id' => 'confirmpassword', 'placeholder' => 'Confirm Password']) !!}
{!! $errors->first('confirm-password', '<p class="errors">:message</p>') !!}
</div>
</div>


<div class="form-group {{ $errors->has('roles') ? 'has-error' : ''}}">
{!! Form::label('roles', 'Roles', ['class' => 'control-label col-lg-3']) !!}
<div class="col-lg-6">
{{Form::select('roles',$roles,isset($roles)?@$userRole:null,array('multiple'=>'multiple','name'=>'roles[]', 'class' => 'form-control', 'id' => 'multipleSelected'))}}
{!! $errors->first('roles', '<p class="errors">:message</p>') !!}
</div>
</div>


</div>
</div>
</div>

<div class="form-group">
<div class="col-lg-offset-3 col-lg-6">
{!! Form::submit(isset($submitButtonText) ? $submitButtonText : 'Submit', ['class' =>
'btn btn-primary']) !!}
</div>
</div>
</form>
</div>

</div>
</section>
</div>
</div>
/***********************************User add.blade.php************************************/
@extends('layouts.adminLayout.admin_design')
@section('content')
{!! Form::open(['url' => 'admin/users', 'data-toggle' => 'validator','data-disable' => 'false', 'class' => 'form-horizontal', 'files' => true]) !!}

@include ('admin.users.form')

{!! Form::close() !!}

@endsection
/***********************************User edit.blade.php************************************/
@extends('layouts.adminLayout.admin_design')
@section('content')

{!! Form::model($user, [
                'method' => 'PUT',
                'url' => ['admin/users',$user->id],
                'class' => 'form-horizontal',
                'files' => true,
                'data-toggle' => 'validator',
                'data-disable' => 'false',
                'id' =>'user_form'
                ]) !!}
                
                @include ('admin.users.form', ['submitButtonText' => 'Edit'])

            {!! Form::close() !!}

@endsection
/***********************************Roll Controller************************************/
<?php

namespace App\Http\Controllers\AdminController;

use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
use Spatie\Permission\Models\Role;
use Spatie\Permission\Models\Permission;
use DB;
use DataTables;
use Illuminate\Support\Facades\Auth;

class RoleController extends Controller
{
    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    function __construct()
    {
         $this->middleware('permission:role_list|role_create|role_edit|role_delete', ['only' => ['index','store']]);
         $this->middleware('permission:role_create', ['only' => ['create','store']]);
         $this->middleware('permission:role_edit', ['only' => ['edit','update']]);
         $this->middleware('permission:role_delete', ['only' => ['destroy']]);
    }


    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function index(Request $request)
    {
        //$permission = Permission::create(['name' => 'role_delete']);
        return view('admin.roles.list');
    }

    public function getAjaxRole(){
        $post = Role::get();
       // dd($post);
        return DataTables::of($post)
        ->addColumn('id', function ($post) {
            return $post->id;
        })
        ->addColumn('name', function ($post) {
            return $post->name;
        })
        ->addColumn('action', function ($post) {
            //$user = auth()->user()->id;
            //$role_edit = $user->can('role_edit');
            $btn = '';
            if(Auth::user()->can('role_edit')) {
                $btn .= '<a href="'.url("admin/roles").'/'.$post->id.'/edit'.'" class="edit btn btn-primary btn-sm">Edit</a>&nbsp;';
             
            }
            if(Auth::user()->can('role_delete')) {
                $btn .= '<button id="deleteRecord" class="edit btn btn-danger btn-sm btn-delete" data-url="'.url("admin/roles").'/'.$post->id.'">Delete</button>';
            }
            return $btn;
        })
        ->rawColumns(['action','role'])
        ->make(true);
}


    /**
     * Show the form for creating a new resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function create()
    {
        $roletitle       = 'Add Role';
        $permissions     = Permission::get();
        $rolePermissions = [];
        return view('admin.roles.add',compact('permissions', 'roletitle','rolePermissions'));
    }


    /**
     * Store a newly created resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return \Illuminate\Http\Response
     */
    public function store(Request $request)
    {
        $this->validate($request, [
            'name' => 'required|unique:roles,name',
            'permission' => 'required',
        ]);


        $role = Role::create(['name' => $request->input('name')]);
        $role->syncPermissions($request->input('permission'));

        return redirect('admin/roles')->with('flash_message_success', 'Role has been added successfully!'); 
    }
    /**
     * Display the specified resource.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function show($id)
    {
        $role = Role::find($id);
        $rolePermissions = Permission::join("role_has_permissions","role_has_permissions.permission_id","=","permissions.id")
            ->where("role_has_permissions.role_id",$id)
            ->get();

        return view('roles.show',compact('role','rolePermissions'));
    }


    /**
     * Show the form for editing the specified resource.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function edit($id)
    {
        //dd('aaaaa');
        $roletitle  = 'Edit Role';
        $role = Role::find($id);
        $permissions = Permission::get();
        $rolePermissions = DB::table("role_has_permissions")->where("role_has_permissions.role_id",$id)
            ->pluck('role_has_permissions.permission_id','role_has_permissions.permission_id')
            ->all();
            
       //dd($rolePermissions);
        //return redirect('admin/roles')->with('flash_message_success', 'User has been updated successfully!');
        return view('admin.roles.edit',compact('role','permissions','rolePermissions', 'roletitle'));
    }


    /**
     * Update the specified resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function update(Request $request, $id)
    {
        $this->validate($request, [
            'name' => 'required',
            'permission' => 'required',
        ]);


        $role = Role::find($id);
        $role->name = $request->input('name');
        $role->save();

        $role->syncPermissions($request->input('permission'));
        return redirect('admin/roles')->with('flash_message_success', 'Role updated successfully!');
    }
    /**
     * Remove the specified resource from storage.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function destroy($id)
    {
        DB::table("roles")->where('id',$id)->delete();
        return redirect('admin/roles')->with('flash_message_success', 'Role deleted successfully!');
    }
}
/***********************************Roll list.blade.php view************************************/
@extends('layouts.adminLayout.admin_design')
@section('content')

<!-- page start-->
<div class="row">
    <div class="col-sm-12">
        <section class="panel">
            <header class="panel-heading">
                Users
                @if(Session::has('flash_message_error'))
                <div class="alert alert-error alert-block ajaxAlert">
                    <button type="button" class="close" data-dismiss="alert"></button>
                    <strong>{!! session('flash_message_error') !!}</strong>
                </div>
                @endif
                @if(Session::has('flash_message_success'))
                <div class="alert alert-success alert-block">
                    <button type="button" class="close" data-dismiss="alert"></button>
                    <strong>{!! session('flash_message_success') !!}</strong>
                </div>
                @endif
            </header>

            <div class="panel-body">
                <div class="adv-table">
                    <table class="display table table-bordered table-striped data-table" id="datatable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        
                        <tfoot>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Actions</th>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </section>
    </div>
</div>
<!-- page end-->

<script type="text/javascript">
    $(document).ready(function() {
        let url = '{{ url('admin/roles/get-ajax') }}';
        let columns = [
            {data: 'id', name: 'id', "width": "30%"},
            {data: 'name', name: 'name'},
            {data: 'action', name: 'action'}
        ];
        createDatable(url, columns, [0],'roles');
    });
</script>
@endsection
/***********************************Roll form.blade.php view************************************/
<div class="rows">
    <div class="col-lg-12">
        <section class="panel">
            <header class="panel-heading">
                {{ $roletitle }}
                <span class="tools pull-right">
                    <a class="fa fa-chevron-down" href="javascript:;"></a>
                    <a class="fa fa-cog" href="javascript:;"></a>
                    <a class="fa fa-times" href="javascript:;"></a>
                </span>
            </header>
            <div class="panel-body">
                <div class=" form">
                    {{ $roletitle }}
                    <form class="cmxform form-horizontal " id="commentForm" method="get" action="">
                        <div class="form-group {{ $errors->has('name') ? 'has-error' : ''}}">
                            {!! Form::label('name', 'Name', ['class' => 'control-label col-lg-3']) !!}
                            <div class="col-lg-6">
                                {!! Form::text('name', null, ['class' => ' form-control', 'required', 'id' => 'name', 'placeholder' => 'Your Name']) !!}
                                {!! $errors->first('name', '<p class="errors">:message</p>') !!}
                            </div>
                        </div>
                        <div class="form-group {{ $errors->has('permission') ? 'has-error' : ''}}">
                            {!! Form::label('permission', 'Permission', ['class' => 'control-label col-lg-3']) !!}
                            <div class="col-lg-6 radioButtonTopPadding">

                            @foreach ($permissions as $key => $permission)
                                {!! Form::label(lcfirst($permission->name), str_replace('_', ' ', ucwords($permission->name))) !!}
                                {!! Form::checkbox('permission[]', lcfirst($permission->name),in_array($permission->id, @$rolePermissions),['class' => 'md-check', 'id' => $permission->id] ) !!}
                            @endforeach
                            {!! $errors->first('permission', '<p class="errors">:message</p>') !!}
                        
                        </div>
                        </div>


                        </div>
                        </div>
                        </div>

                        <div class="form-group">
                            <div class="col-lg-offset-3 col-lg-6">
                                {!! Form::submit(isset($submitButtonText) ? $submitButtonText : 'Submit', ['class' =>
                                'btn btn-primary']) !!}
                            </div>
                        </div>
                    </form>
                </div>

            </div>
        </section>
    </div>
</div>


/***********************************Roll add.blade.php view************************************/
@extends('layouts.adminLayout.admin_design')
@section('content')
{!! Form::open(['url' => 'admin/roles', 'data-toggle' => 'validator','data-disable' => 'false', 'class' => 'form-horizontal', 'files' => true]) !!}

@include ('admin.roles.form')

{!! Form::close() !!}

@endsection
/***********************************Roll edit.blade.php view************************************/
@extends('layouts.adminLayout.admin_design')
@section('content')

{!! Form::model($role, [
                'method' => 'PUT',
                'url' => ['admin/roles',$role->id],
                'class' => 'form-horizontal',
                'files' => true,
                'data-toggle' => 'validator',
                'data-disable' => 'false',
                'id' =>'role_form'
                ]) !!}
                
                @include ('admin.roles.form', ['submitButtonText' => 'Edit'])

            {!! Form::close() !!}

@endsection
/***********************************Visualstudio Code Shortcode************************************/
Visualstudio Code Shortcode:
Format HTML : Ctrl+Alt+F(install the the Format HTML in PHP extextion in VSCode)

Remove extra line breaksVSCode:
Click Ctrl+H (quick replace)
Tick "Use Regular Expressions"
In Find specify "^$\n"
In Replace box delete everything.
Click "Replace All"
Enable/Disable minimap : "editor.minimap.enabled": false
Search Form Folder:(Shift+Shift+F)
./resources(folder name added like this)

Find & Replace PHP Short Tags in Visual Studio Code:
Click Ctrl+H (quick replace)
In Find specify: <\?(?!php)
In Replace box: <?php

Disable horizontal scroll in visual studio code : Alt + Z, 
Move scroll faster : shift+alt+mousewheel
Command Palette : Ctrl+P
Command Palette(open in new tab) : Ctrl+R
CMD Open : Ctrl+Shift+C
Shrink / expand selection : Shift+Alt+[ / Shift+Alt+]
Fold All : (Ctrl+K Ctrl+0) / (Ctrl+K Ctrl+J)
Find and Replace : Ctrl+F, Enter, Shift+Enter
Search across files : Ctrl+Shift+F 
Comment Code Block : Ctrl+K+C/Ctrl+K+U
Open bottom error/command bar : Ctrl+J
Undo cursor position : Ctrl+U
Trim trailing whitespace : Ctrl+K Ctrl+X
Select current line : Ctrl+L, Ctrl+Home, Ctrl+End
Trim trailing whitespa
Change your theme : Ctrl+K Ctrl+T
Customize your keyboard shortcuts : Ctrl+K Ctrl+S
Toggle Sidebar : Ctrl+B
Side by side editing : Ctrl+\
{{}} for php code select the text and use this keys: Shift+{